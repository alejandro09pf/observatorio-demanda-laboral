01:14:04 - INFO - ================================================================================
01:14:04 - INFO - CLUSTERING: PIPELINE_A_300_PRE_EXP1
01:14:04 - INFO - ================================================================================
01:14:04 - INFO - 
================================================================================
01:14:04 - INFO - EXTRACTING SKILLS
01:14:04 - INFO - ================================================================================
/Users/nicocamacho/Documents/Tesis/observatorio-demanda-laboral/scripts/clustering_analysis.py:64: UserWarning: pandas only supports SQLAlchemy connectable (engine/connection) or database string URI or sqlite3 DBAPI2 connection. Other DBAPI2 objects are not tested. Please consider using SQLAlchemy.
  df = pd.read_sql_query(query, conn)
01:14:04 - INFO -    ‚úÖ Extracted 6413 unique skills
01:14:04 - INFO -    Frequency range: 1 - 129
01:14:04 - INFO -    Total mentions: 14,987
01:14:04 - INFO - 
================================================================================
01:14:04 - INFO - FETCHING EMBEDDINGS
01:14:04 - INFO - ================================================================================
01:14:04 - INFO - Requesting embeddings for 6413 skills...
01:14:04 - INFO -    ‚úÖ Found embeddings: 1314/6413
01:14:04 - INFO -    Coverage: 20.5%
01:14:04 - WARNING -    ‚ö†Ô∏è  Missing 5099 skills
01:14:04 - INFO -    Using 1314 skills with embeddings
01:14:04 - INFO - 
================================================================================
01:14:04 - INFO - RUNNING UMAP (src/analyzer/dimension_reducer.py)
01:14:04 - INFO - ================================================================================
01:14:04 - INFO - DimensionReducer initialized: n_components=2, n_neighbors=15, min_dist=0.1, metric=cosine
01:14:04 - INFO - Fitting UMAP on 1314 samples with 768 features
01:14:04 - INFO - Parameters: n_neighbors=15, min_dist=0.1, metric=cosine
/Users/nicocamacho/Documents/Tesis/observatorio-demanda-laboral/venv/lib/python3.11/site-packages/umap/umap_.py:1943: UserWarning: n_jobs value -1 overridden to 1 by setting random_state. Use no seed for parallelism.
  warn(f"n_jobs value {self.n_jobs} overridden to 1 by setting random_state. Use no seed for parallelism.")
UMAP(angular_rp_forest=True, metric='cosine', random_state=42, verbose=True)
Sat Nov  8 01:14:04 2025 Construct fuzzy simplicial set
Sat Nov  8 01:14:05 2025 Finding Nearest Neighbors
Sat Nov  8 01:14:07 2025 Finished Nearest Neighbor Search
Sat Nov  8 01:14:08 2025 Construct embedding
Epochs completed:   0%|            0/500 [00:00]Epochs completed:   0%|            1/500 [00:00]Epochs completed:  12%| ‚ñà‚ñè         59/500 [00:00]Epochs completed:  23%| ‚ñà‚ñà‚ñé        113/500 [00:00]Epochs completed:  34%| ‚ñà‚ñà‚ñà‚ñç       170/500 [00:00]Epochs completed:  45%| ‚ñà‚ñà‚ñà‚ñà‚ñå      227/500 [00:00]Epochs completed:  57%| ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñã     286/500 [00:00]Epochs completed:  69%| ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñâ    344/500 [00:00]Epochs completed:  80%| ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà   401/500 [00:00]Epochs completed:  92%| ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñè 460/500 [00:01]Epochs completed: 100%| ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 500/500 [00:01]
01:14:09 - INFO - UMAP transformation complete
01:14:09 - INFO - Output shape: (1314, 2)
01:14:09 - INFO - Coordinate ranges: X=[2.76, 11.35], Y=[-5.41, 2.68]
01:14:09 - INFO - 
================================================================================
01:14:09 - INFO - RUNNING HDBSCAN (src/analyzer/clustering.py)
01:14:09 - INFO - ================================================================================
01:14:09 - INFO - SkillClusterer initialized: min_cluster_size=5, min_samples=3, metric=euclidean
01:14:09 - INFO - Clustering 1314 samples in 2D space
01:14:09 - INFO - Parameters: min_cluster_size=5, min_samples=3
01:14:09 - INFO - Clustering complete
01:14:09 - INFO - Clusters detected: 103
01:14:09 - INFO - Noise points: 269 (20.5%)
01:14:09 - INFO - Cluster sizes: {80: 10, 71: 29, 87: 16, 0: 6, 89: 14, 4: 12, 67: 34, 16: 7, 39: 11, 54: 24, 22: 11, 44: 25, 78: 7, 11: 7, 83: 13, 79: 7, 65: 7, 100: 8, 31: 5, 68: 6, 12: 10, 9: 23, 75: 14, 72: 5, 23: 6, 14: 9, 15: 6, 84: 11, 21: 12, 34: 9, 73: 18, 6: 10, 35: 8, 26: 12, 61: 10, 53: 12, 48: 19, 42: 6, 33: 9, 43: 15, 20: 11, 69: 10, 32: 8, 66: 8, 90: 11, 101: 9, 81: 8, 51: 15, 74: 13, 45: 8, 8: 9, 77: 16, 94: 6, 27: 7, 10: 6, 37: 7, 92: 5, 98: 14, 18: 8, 50: 16, 2: 5, 102: 11, 55: 5, 99: 12, 64: 21, 85: 7, 96: 7, 97: 5, 82: 6, 40: 13, 7: 12, 76: 7, 19: 8, 38: 11, 91: 10, 95: 8, 58: 29, 56: 9, 13: 7, 24: 11, 47: 8, 28: 13, 41: 5, 62: 5, 36: 6, 93: 8, 59: 9, 5: 5, 86: 8, 29: 12, 30: 6, 46: 7, 3: 6, 88: 7, 52: 6, 25: 5, 63: 6, 57: 10, 60: 7, 49: 5, 17: 5, 70: 7, 1: 7}
01:14:09 - INFO - Quality metrics calculated:
01:14:09 - INFO -   Silhouette: 0.569
01:14:09 - INFO -   Davies-Bouldin: 0.497
01:14:09 - INFO - 
üìä Clustering Results:
01:14:09 - INFO -    Clusters: 103
01:14:09 - INFO -    Noise: 269 (20.5%)
01:14:09 - INFO -    Silhouette: 0.569
01:14:09 - INFO -    Davies-Bouldin: 0.497
01:14:09 - INFO - 
üìä Analyzing clusters...
01:14:09 - INFO - 
================================================================================
01:14:09 - INFO - EXTRACTING TEMPORAL DATA
01:14:09 - INFO - ================================================================================
/Users/nicocamacho/Documents/Tesis/observatorio-demanda-laboral/scripts/clustering_analysis.py:141: UserWarning: pandas only supports SQLAlchemy connectable (engine/connection) or database string URI or sqlite3 DBAPI2 connection. Other DBAPI2 objects are not tested. Please consider using SQLAlchemy.
  df = pd.read_sql_query(query, conn)
/Users/nicocamacho/Documents/Tesis/observatorio-demanda-laboral/scripts/clustering_analysis.py:145: UserWarning: Converting to PeriodArray/Index representation will drop timezone information.
  df['quarter_str'] = df['quarter'].dt.to_period('Q').astype(str)
01:14:09 - INFO -    ‚úÖ Extracted temporal data
01:14:09 - INFO -    Quarters: 5
01:14:09 - INFO -    Date range: 2016Q2 - 2025Q4
01:14:09 - INFO - 
================================================================================
01:14:09 - INFO - CREATING TEMPORAL MATRIX
01:14:09 - INFO - ================================================================================
01:14:09 - INFO -    ‚úÖ Matrix shape: (5, 104)
01:14:09 - INFO - 
================================================================================
01:14:09 - INFO - GENERATING VISUALIZATIONS
01:14:09 - INFO - ================================================================================
01:14:09 - INFO - 
üé® UMAP scatter plot...
01:14:10 - INFO -    ‚úÖ Saved: umap_scatter.png
01:14:10 - INFO - 
üé® Temporal heatmap...
01:14:10 - INFO -    ‚úÖ Saved: temporal_heatmap.png
01:14:10 - INFO - 
üé® Top clusters evolution...
01:14:11 - INFO -    ‚úÖ Saved: top_clusters_evolution.png
01:14:11 - INFO - 
================================================================================
01:14:11 - INFO - SAVING RESULTS
01:14:11 - INFO - ================================================================================
01:14:11 - INFO -    ‚úÖ results.json
01:14:11 - INFO -    ‚úÖ temporal_matrix.csv
01:14:11 - INFO -    ‚úÖ metrics_summary.json
01:14:11 - INFO - 
================================================================================
01:14:11 - INFO - ‚úÖ CLUSTERING COMPLETE
01:14:11 - INFO - ================================================================================
01:14:11 - INFO -    Dataset: pipeline_a_300_pre_exp1
01:14:11 - INFO -    Skills: 1314
01:14:11 - INFO -    Clusters: 103
01:14:11 - INFO -    Silhouette: 0.569
01:14:11 - INFO -    Output: outputs/clustering/experiments/pipeline_a_300_pre/exp1_nn15_mcs5/
01:14:11 - INFO - ================================================================================
	completed  0  /  500 epochs
	completed  50  /  500 epochs
	completed  100  /  500 epochs
	completed  150  /  500 epochs
	completed  200  /  500 epochs
	completed  250  /  500 epochs
	completed  300  /  500 epochs
	completed  350  /  500 epochs
	completed  400  /  500 epochs
	completed  450  /  500 epochs
Sat Nov  8 01:14:09 2025 Finished embedding
