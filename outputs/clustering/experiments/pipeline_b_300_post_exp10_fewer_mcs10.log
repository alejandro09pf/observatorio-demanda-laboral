15:47:40 - INFO - ================================================================================
15:47:40 - INFO - CLUSTERING: PIPELINE_B_300_POST_EXP10_FEWER_MCS10
15:47:40 - INFO - ================================================================================
15:47:40 - INFO - 
================================================================================
15:47:40 - INFO - EXTRACTING SKILLS
15:47:40 - INFO - ================================================================================
/Users/nicocamacho/Documents/Tesis/observatorio-demanda-laboral/scripts/clustering_analysis.py:64: UserWarning: pandas only supports SQLAlchemy connectable (engine/connection) or database string URI or sqlite3 DBAPI2 connection. Other DBAPI2 objects are not tested. Please consider using SQLAlchemy.
  df = pd.read_sql_query(query, conn)
15:49:52 - INFO -    ‚úÖ Extracted 2401 unique skills
15:49:52 - INFO -    Frequency range: 1 - 294
15:49:52 - INFO -    Total mentions: 9,458
15:49:52 - INFO - 
================================================================================
15:49:52 - INFO - FETCHING EMBEDDINGS
15:49:52 - INFO - ================================================================================
15:49:52 - INFO - Requesting embeddings for 2401 skills...
15:49:52 - INFO -    ‚úÖ Found embeddings: 1937/2401
15:49:52 - INFO -    Coverage: 80.7%
15:49:52 - WARNING -    ‚ö†Ô∏è  Missing 464 skills
15:49:52 - INFO -    Using 1937 skills with embeddings
15:49:52 - INFO - 
================================================================================
15:49:52 - INFO - RUNNING UMAP (src/analyzer/dimension_reducer.py)
15:49:52 - INFO - ================================================================================
15:49:52 - INFO - DimensionReducer initialized: n_components=2, n_neighbors=5, min_dist=0.1, metric=cosine
15:49:52 - INFO - Fitting UMAP on 1937 samples with 768 features
15:49:52 - INFO - Parameters: n_neighbors=5, min_dist=0.1, metric=cosine
/Users/nicocamacho/Documents/Tesis/observatorio-demanda-laboral/venv/lib/python3.11/site-packages/umap/umap_.py:1943: UserWarning: n_jobs value -1 overridden to 1 by setting random_state. Use no seed for parallelism.
  warn(f"n_jobs value {self.n_jobs} overridden to 1 by setting random_state. Use no seed for parallelism.")
UMAP(angular_rp_forest=True, metric='cosine', n_neighbors=5, random_state=42, verbose=True)
Sat Nov  8 15:49:52 2025 Construct fuzzy simplicial set
Sat Nov  8 15:49:54 2025 Finding Nearest Neighbors
Sat Nov  8 15:49:56 2025 Finished Nearest Neighbor Search
Sat Nov  8 15:49:57 2025 Construct embedding
Epochs completed:   0%|            0/500 [00:00]Epochs completed:   0%|            1/500 [00:00]Epochs completed:   7%| ‚ñã          36/500 [00:00]Epochs completed:  12%| ‚ñà‚ñè         62/500 [00:00]Epochs completed:  17%| ‚ñà‚ñã         85/500 [00:00]Epochs completed:  24%| ‚ñà‚ñà‚ñç        120/500 [00:00]Epochs completed:  34%| ‚ñà‚ñà‚ñà‚ñé       168/500 [00:00]Epochs completed:  44%| ‚ñà‚ñà‚ñà‚ñà‚ñé      218/500 [00:00]Epochs completed:  54%| ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñç     269/500 [00:01]Epochs completed:  63%| ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñé    316/500 [00:01]Epochs completed:  74%| ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñç   370/500 [00:01]Epochs completed:  85%| ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñç  424/500 [00:01]Epochs completed:  95%| ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñå 476/500 [00:01]Epochs completed: 100%| ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 500/500 [00:01]
15:49:59 - INFO - UMAP transformation complete
15:49:59 - INFO - Output shape: (1937, 2)
15:49:59 - INFO - Coordinate ranges: X=[-4.67, 15.87], Y=[0.60, 16.15]
15:49:59 - INFO - 
================================================================================
15:49:59 - INFO - RUNNING HDBSCAN (src/analyzer/clustering.py)
15:49:59 - INFO - ================================================================================
15:49:59 - INFO - SkillClusterer initialized: min_cluster_size=10, min_samples=2, metric=euclidean
15:49:59 - INFO - Clustering 1937 samples in 2D space
15:49:59 - INFO - Parameters: min_cluster_size=10, min_samples=2
15:49:59 - INFO - Clustering complete
15:49:59 - INFO - Clusters detected: 80
15:49:59 - INFO - Noise points: 380 (19.6%)
15:49:59 - INFO - Cluster sizes: {65: 25, 77: 10, 73: 20, 45: 11, 79: 19, 76: 24, 27: 36, 75: 28, 34: 12, 6: 35, 40: 13, 0: 13, 63: 17, 78: 18, 74: 18, 39: 11, 5: 18, 57: 13, 30: 18, 26: 10, 53: 15, 8: 17, 69: 22, 19: 25, 50: 10, 64: 15, 68: 66, 20: 13, 16: 23, 22: 10, 1: 18, 13: 23, 52: 36, 25: 11, 67: 15, 10: 22, 72: 12, 43: 12, 51: 18, 48: 33, 7: 11, 71: 22, 55: 24, 18: 23, 60: 31, 33: 26, 38: 54, 3: 11, 56: 29, 46: 11, 44: 18, 12: 12, 49: 14, 66: 17, 15: 13, 24: 22, 17: 12, 54: 21, 4: 18, 35: 25, 62: 10, 59: 27, 9: 20, 2: 10, 31: 22, 58: 11, 21: 17, 70: 12, 47: 23, 23: 16, 28: 16, 32: 18, 36: 54, 42: 21, 11: 10, 61: 19, 37: 13, 41: 15, 29: 13, 14: 11}
15:49:59 - INFO - Quality metrics calculated:
15:49:59 - INFO -   Silhouette: 0.447
15:49:59 - INFO -   Davies-Bouldin: 0.688
15:49:59 - INFO - 
üìä Clustering Results:
15:49:59 - INFO -    Clusters: 80
15:49:59 - INFO -    Noise: 380 (19.6%)
15:49:59 - INFO -    Silhouette: 0.447
15:49:59 - INFO -    Davies-Bouldin: 0.688
15:49:59 - INFO - 
üìä Analyzing clusters...
15:49:59 - INFO - 
================================================================================
15:49:59 - INFO - META-CLUSTERING (Hierarchical Grouping)
15:49:59 - INFO - ================================================================================
15:49:59 - INFO - Clustering 80 fine-grained clusters into meta-clusters...
15:49:59 - INFO - Meta-clusters detected: 2
15:49:59 - INFO - Unclustered fine clusters: 32
15:49:59 - INFO - Meta-clustering Silhouette: 0.144
15:49:59 - INFO - Meta-clustering Davies-Bouldin: 1.664
15:49:59 - INFO - 
‚è≠  Skipping temporal analysis (no temporal_sql_query in config)
15:49:59 - INFO - 
================================================================================
15:49:59 - INFO - GENERATING VISUALIZATIONS
15:49:59 - INFO - ================================================================================
15:49:59 - INFO - 
üé® UMAP scatter plot (enhanced)...
15:50:04 - INFO -    ‚úÖ Saved: umap_scatter.png (enhanced with labels)
15:50:04 - INFO - 
‚è≠  Skipping temporal visualizations (no temporal data available)
15:50:04 - INFO - 
================================================================================
15:50:04 - INFO - GENERATING HIERARCHICAL VISUALIZATIONS
15:50:04 - INFO - ================================================================================
15:50:04 - INFO - 
üé® Fine-grained view (colored by meta-cluster with annotations)...
15:50:06 - INFO -    ‚úÖ Saved: umap_fine_by_meta.png
15:50:06 - INFO - 
üé® Macro view (top cluster centroids)...
15:50:06 - INFO -    Showing top 30 clusters (by frequency)
15:50:08 - INFO -    ‚úÖ Saved: umap_macro_centroids.png
15:50:08 - INFO - 
================================================================================
15:50:08 - INFO - SAVING RESULTS
15:50:08 - INFO - ================================================================================
15:50:08 - INFO -    ‚úÖ results.json
15:50:08 - INFO -    ‚úÖ metrics_summary.json
15:50:08 - INFO - 
================================================================================
15:50:08 - INFO - ‚úÖ CLUSTERING COMPLETE
15:50:08 - INFO - ================================================================================
15:50:08 - INFO -    Dataset: pipeline_b_300_post_exp10_fewer_mcs10
15:50:08 - INFO -    Skills: 1937
15:50:08 - INFO -    Clusters: 80
15:50:08 - INFO -    Silhouette: 0.447
15:50:08 - INFO -    Output: outputs/clustering/experiments/pipeline_b_300_post/exp10_fewer_mcs10/
15:50:08 - INFO - ================================================================================
	completed  0  /  500 epochs
	completed  50  /  500 epochs
	completed  100  /  500 epochs
	completed  150  /  500 epochs
	completed  200  /  500 epochs
	completed  250  /  500 epochs
	completed  300  /  500 epochs
	completed  350  /  500 epochs
	completed  400  /  500 epochs
	completed  450  /  500 epochs
Sat Nov  8 15:49:59 2025 Finished embedding
