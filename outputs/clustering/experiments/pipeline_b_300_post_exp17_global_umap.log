18:04:52 - INFO - ================================================================================
18:04:52 - INFO - CLUSTERING: PIPELINE_B_300_POST_EXP17_GLOBAL_UMAP
18:04:52 - INFO - ================================================================================
18:04:52 - INFO - 
================================================================================
18:04:52 - INFO - EXTRACTING SKILLS
18:04:52 - INFO - ================================================================================
/Users/nicocamacho/Documents/Tesis/observatorio-demanda-laboral/scripts/clustering_analysis.py:64: UserWarning: pandas only supports SQLAlchemy connectable (engine/connection) or database string URI or sqlite3 DBAPI2 connection. Other DBAPI2 objects are not tested. Please consider using SQLAlchemy.
  df = pd.read_sql_query(query, conn)
18:06:27 - INFO -    ‚úÖ Extracted 2401 unique skills
18:06:27 - INFO -    Frequency range: 1 - 294
18:06:27 - INFO -    Total mentions: 9,458
18:06:27 - INFO - 
================================================================================
18:06:27 - INFO - FETCHING EMBEDDINGS
18:06:27 - INFO - ================================================================================
18:06:27 - INFO - Requesting embeddings for 2401 skills...
18:06:27 - INFO -    ‚úÖ Found embeddings: 1937/2401
18:06:27 - INFO -    Coverage: 80.7%
18:06:27 - WARNING -    ‚ö†Ô∏è  Missing 464 skills
18:06:27 - INFO -    Using 1937 skills with embeddings
18:06:27 - INFO - 
================================================================================
18:06:27 - INFO - RUNNING UMAP (src/analyzer/dimension_reducer.py)
18:06:27 - INFO - ================================================================================
18:06:27 - INFO - DimensionReducer initialized: n_components=2, n_neighbors=30, min_dist=0.05, metric=cosine
18:06:27 - INFO - Fitting UMAP on 1937 samples with 768 features
18:06:27 - INFO - Parameters: n_neighbors=30, min_dist=0.05, metric=cosine
/Users/nicocamacho/Documents/Tesis/observatorio-demanda-laboral/venv/lib/python3.11/site-packages/umap/umap_.py:1943: UserWarning: n_jobs value -1 overridden to 1 by setting random_state. Use no seed for parallelism.
  warn(f"n_jobs value {self.n_jobs} overridden to 1 by setting random_state. Use no seed for parallelism.")
UMAP(angular_rp_forest=True, metric='cosine', min_dist=0.05, n_neighbors=30, random_state=42, verbose=True)
Sat Nov  8 18:06:27 2025 Construct fuzzy simplicial set
Sat Nov  8 18:06:29 2025 Finding Nearest Neighbors
Sat Nov  8 18:06:30 2025 Finished Nearest Neighbor Search
Sat Nov  8 18:06:32 2025 Construct embedding
Epochs completed:   0%|            0/500 [00:00]Epochs completed:   0%|            1/500 [00:00]Epochs completed:   6%| ‚ñå          28/500 [00:00]Epochs completed:  11%| ‚ñà          53/500 [00:00]Epochs completed:  15%| ‚ñà‚ñå         77/500 [00:00]Epochs completed:  21%| ‚ñà‚ñà         103/500 [00:00]Epochs completed:  25%| ‚ñà‚ñà‚ñå        126/500 [00:00]Epochs completed:  30%| ‚ñà‚ñà‚ñà        151/500 [00:00]Epochs completed:  35%| ‚ñà‚ñà‚ñà‚ñå       176/500 [00:01]Epochs completed:  40%| ‚ñà‚ñà‚ñà‚ñà       200/500 [00:01]Epochs completed:  45%| ‚ñà‚ñà‚ñà‚ñà‚ñå      225/500 [00:01]Epochs completed:  50%| ‚ñà‚ñà‚ñà‚ñà‚ñà      250/500 [00:01]Epochs completed:  55%| ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñç     274/500 [00:01]Epochs completed:  60%| ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñâ     298/500 [00:01]Epochs completed:  64%| ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñç    322/500 [00:01]Epochs completed:  69%| ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñâ    346/500 [00:01]Epochs completed:  75%| ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñç   374/500 [00:01]Epochs completed:  80%| ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà   400/500 [00:01]Epochs completed:  85%| ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñå  426/500 [00:02]Epochs completed:  90%| ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  452/500 [00:02]Epochs completed:  96%| ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñå 479/500 [00:02]Epochs completed: 100%| ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 500/500 [00:02]
18:06:34 - INFO - UMAP transformation complete
18:06:34 - INFO - Output shape: (1937, 2)
18:06:34 - INFO - Coordinate ranges: X=[1.80, 8.99], Y=[1.92, 8.36]
18:06:34 - INFO - 
================================================================================
18:06:34 - INFO - RUNNING HDBSCAN (src/analyzer/clustering.py)
18:06:34 - INFO - ================================================================================
18:06:34 - INFO - SkillClusterer initialized: min_cluster_size=8, min_samples=2, metric=euclidean
18:06:34 - INFO - Clustering 1937 samples in 2D space
18:06:34 - INFO - Parameters: min_cluster_size=8, min_samples=2
18:06:34 - INFO - Clustering complete
18:06:34 - INFO - Clusters detected: 89
18:06:34 - INFO - Noise points: 367 (18.9%)
18:06:34 - INFO - Cluster sizes: {87: 27, 29: 20, 71: 34, 79: 18, 80: 22, 77: 18, 19: 24, 48: 15, 25: 21, 5: 17, 36: 12, 16: 11, 51: 41, 84: 16, 24: 8, 54: 25, 58: 25, 73: 14, 57: 17, 23: 12, 88: 11, 81: 13, 45: 17, 83: 8, 62: 16, 4: 8, 13: 65, 2: 16, 75: 25, 17: 15, 11: 10, 8: 44, 22: 17, 37: 10, 47: 19, 1: 13, 74: 15, 63: 14, 85: 16, 67: 8, 3: 28, 40: 10, 0: 8, 39: 16, 61: 18, 70: 11, 38: 24, 6: 8, 50: 12, 14: 15, 26: 18, 10: 17, 53: 9, 20: 18, 35: 10, 41: 14, 76: 13, 59: 22, 65: 17, 15: 11, 60: 19, 7: 26, 66: 33, 86: 11, 52: 9, 32: 28, 46: 8, 27: 15, 68: 14, 42: 20, 33: 9, 34: 24, 72: 12, 12: 34, 44: 9, 30: 37, 55: 21, 43: 21, 18: 10, 21: 10, 82: 46, 56: 9, 28: 21, 64: 9, 78: 18, 31: 10, 49: 10, 69: 9, 9: 12}
18:06:34 - INFO - Quality metrics calculated:
18:06:34 - INFO -   Silhouette: 0.467
18:06:34 - INFO -   Davies-Bouldin: 0.687
18:06:34 - INFO - 
üìä Clustering Results:
18:06:34 - INFO -    Clusters: 89
18:06:34 - INFO -    Noise: 367 (18.9%)
18:06:34 - INFO -    Silhouette: 0.467
18:06:34 - INFO -    Davies-Bouldin: 0.687
18:06:34 - INFO - 
================================================================================
18:06:34 - INFO - META-CLUSTERING (Hierarchical Grouping)
18:06:34 - INFO - ================================================================================
18:06:34 - INFO - Clustering 89 fine-grained clusters into meta-clusters...
18:06:34 - INFO - Meta-clusters detected: 4
18:06:34 - INFO - Unclustered fine clusters: 39
18:06:34 - INFO - Meta-clustering Silhouette: 0.256
18:06:34 - INFO - Meta-clustering Davies-Bouldin: 1.365
18:06:34 - INFO - 
üìä Analyzing clusters...
18:06:34 - INFO - 
‚è≠  Skipping temporal analysis (no temporal_sql_query in config)
18:06:34 - INFO - 
================================================================================
18:06:34 - INFO - GENERATING VISUALIZATIONS
18:06:34 - INFO - ================================================================================
18:06:34 - INFO - 
üé® UMAP scatter plot (enhanced)...
18:06:39 - INFO -    ‚úÖ Saved: umap_scatter.png (enhanced with labels)
18:06:39 - INFO - 
‚è≠  Skipping temporal visualizations (no temporal data available)
18:06:39 - INFO - 
================================================================================
18:06:39 - INFO - GENERATING HIERARCHICAL VISUALIZATIONS
18:06:39 - INFO - ================================================================================
18:06:39 - INFO - 
üé® Fine-grained view (colored by meta-cluster with annotations)...
18:06:42 - INFO -    ‚úÖ Saved: umap_fine_by_meta.png
18:06:42 - INFO - 
üé® Macro view (top cluster centroids)...
18:06:42 - INFO -    Showing top 40 clusters (by frequency)
18:06:42 - WARNING -    ‚ö†Ô∏è  adjustText not available, labels may overlap
18:06:44 - INFO -    ‚úÖ Saved: umap_macro_centroids.png
18:06:44 - INFO - 
================================================================================
18:06:44 - INFO - SAVING RESULTS
18:06:44 - INFO - ================================================================================
18:06:44 - INFO -    ‚úÖ results.json
18:06:44 - INFO -    ‚úÖ metrics_summary.json
18:06:44 - INFO - 
================================================================================
18:06:44 - INFO - ‚úÖ CLUSTERING COMPLETE
18:06:44 - INFO - ================================================================================
18:06:44 - INFO -    Dataset: pipeline_b_300_post_exp17_global_umap
18:06:44 - INFO -    Skills: 1937
18:06:44 - INFO -    Clusters: 89
18:06:44 - INFO -    Silhouette: 0.467
18:06:44 - INFO -    Output: outputs/clustering/experiments/pipeline_b_300_post/exp17_global_umap/
18:06:44 - INFO - ================================================================================
	completed  0  /  500 epochs
	completed  50  /  500 epochs
	completed  100  /  500 epochs
	completed  150  /  500 epochs
	completed  200  /  500 epochs
	completed  250  /  500 epochs
	completed  300  /  500 epochs
	completed  350  /  500 epochs
	completed  400  /  500 epochs
	completed  450  /  500 epochs
Sat Nov  8 18:06:34 2025 Finished embedding
